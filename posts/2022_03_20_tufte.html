<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Tufte-style layouts</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Tufte-style layouts</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#the-tufte-style">The Tufte style</a></li>
<li><a href="#adaptation-for-a-blog-format">Adaptation for a blog format</a></li>
<li><a href="#screen-document-layout">Screen Document Layout</a><ul>
<li><a href="#headers">Headers</a></li>
</ul></li>
<li><a href="#html-structure">HTML Structure</a></li>
<li><a href="#some-tests">Some tests</a></li>
</ul>
</nav>
<h2 id="the-tufte-style">The Tufte style</h2>
<p>The Tufte style is named for Edward Tufte.</p>
<p>The Tufte style (for example, <a href="https://www.inf.ed.ac.uk/teaching/courses/pi/2016_2017/phil/tufte-powerpoint.pdf?utm_source=pocket_mylist">this</a> or <a href="https://www-uxsup.csx.cam.ac.uk/pub/tex-archive/macros/latex/contrib/tufte-latex/sample-handout.pdf">this</a>) is known for its ‘split’ format. One column, on the left hand side, takes up about 60 percent of the page, and contains the main text. The second column is a ‘margin’ to the main text, and contains sidenotes (as opposed to footnotes), images, and other content supportive of the main text.</p>
<p>The effect of this layout is that the supportive material is in close proximity to the text it supports without disrupting the flow of the main text.</p>
<p>Tufte documents have two levels of headings: A- and B-heads. Further subdivision is not permitted.</p>
<p>In later books, Tufte put more vertical space above the section starts. Section text begins with a non-indented paragraph, and a few words of small-caps.</p>
<p>The Margin is used for citations, footnotes, images, figures and tables. However, figures could be displayed in the main column, or even span both columns as the context suggested.</p>
<h2 id="adaptation-for-a-blog-format">Adaptation for a blog format</h2>
<p>After reading a few things about the format, I like it a lot, and I’d like to see if I can use it on my blog.</p>
<p>The Tufte style is used in handouts and books, which of course have pages, and which are generally fairly narrow.</p>
<p>For screens, there is generally much more horizontal space available. This would suggest that the roughly 60/40 split can be changed to more like 50/50. However, the layout should be reactive, such that it will shrink to a 60/40 layout, before in-lining the marginalia.</p>
<p>The nature of HTML/CSS means that there will probably be rather less control than with full typesetting (or with LaTeX), in particular with regard to the positioning in vertical space of the margin material.</p>
<p>Other than this, I think the format should adapt fairly well.</p>
<h2 id="screen-document-layout">Screen Document Layout</h2>
<p>I’m going to set the following rules for the sizing:</p>
<p>The main column will be fixed to a maximum number of characters (or actually, em). Tuftes lines seem to be between 65 and 70 characters. We’ll start with that and see how it looks. The goal will be for it to take up roughly half the screen, but I want to be careful that this doesn’t result in the lines being too long, containing too many characters, so the reader doesn’t have to flick so far when going to a new line.</p>
<p>The main column will be set to the left hand side of the screen.</p>
<p>That leaves the rest of the screen available for the margin, but again, too much and it’ll bad. 50/50 should be a good starting point.</p>
<p>The reactive behavior should be that the margin shrinks (and the main doesn’t), until the ratio between them is about 60/40. At which point the margin ‘pivots’ and goes inline with the main column. This works fine for images, but not so great with footnotes. In that case it might be better to have footnotes link to modals or something, which would probably be better for mobile users.</p>
<h3 id="headers">Headers</h3>
<p>I like the 2-level sections, which would translate to an H1 for the title, an H2 for A-header and H3 for B-Headers.</p>
<p>For the H2, I like the current format I have for the blog of a underline border. In this document, it would span the page, across both columns, which I also like. I don’t think I actually use H3s in my writing much, but Tufte uses Non-bolded, Italisized fonts for both heading levels. Maybe I should do the same for H3s.</p>
<h2 id="html-structure">HTML Structure</h2>
<section>
<div class="main-text">
<p>I think the way to adapt the format to a HTML hierarchical document is like this</p>
<pre><code>BODY
 |-Title
 |-A/B header
 |-Section
 |   |-Main
 |   |-Margin
 |-A/B Header
 |-Section
 |   |-Main
 |   |-Margin
etc.</code></pre>
<p>The main risk I see with this is if the sections get too large. That could lead to the vertical alignments of the margin material getting out of whack, which defeats the main purpose of having it. This might solve itself - if the sections are that long, they might be <em>too</em> long in any case.</p>
<p>The problem I have is encoding this into markdown (or quasi-markdown). How do you indicate the distinction between main and margin material?</p>
<p>Ideally I’d like something like this:</p>
<pre><code>## My Header
This stuff goes in the main text.

[margin]
this goes in the margin
[/margin]

This again goes in the main text.

As does this

[margin]
![image in the margin](./images/image.png)
[/margin]

This is some more main text, but with a reference[^1]

[margin]
[^1]: With the reference showing up in the margin
[/margin]

## Next header signifies the end of the section</code></pre>
<p>The HTML would look like</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">&lt;h2&gt;</span>My Header<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">&lt;section&gt;</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;main&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="kw">&lt;p&gt;</span>This stuff goes in the main text.<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="kw">&lt;p&gt;</span>This again goes in the main text.<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="kw">&lt;p&gt;</span>As does this<span class="kw">&lt;p&gt;</span></a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="kw">&lt;p&gt;</span>This is some more main text, but with a reference<span class="kw">&lt;a&gt;</span></a>
<a class="sourceLine" id="cb3-8" title="8">      <span class="kw">&lt;sup&gt;</span>1<span class="kw">&lt;/sup&gt;&lt;/a&gt;</span></a>
<a class="sourceLine" id="cb3-9" title="9">    <span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-10" title="10">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;margin&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="kw">&lt;p&gt;</span>this goes in the margin<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-13" title="13"></a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="kw">&lt;figure&gt;</span></a>
<a class="sourceLine" id="cb3-15" title="15">      <span class="kw">&lt;img</span><span class="ot"> href=</span><span class="st">&quot;./images/image.png&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="kw">&lt;figcaption&gt;</span>Image in the Margin<span class="kw">&lt;/figcaption&gt;</span></a>
<a class="sourceLine" id="cb3-17" title="17">    <span class="kw">&lt;/figure&gt;</span></a>
<a class="sourceLine" id="cb3-18" title="18">    <span class="kw">&lt;p</span><span class="ot"> id</span> <span class="ot">=</span> <span class="st">&quot;fn1&quot;</span><span class="kw">&gt;&lt;sup&gt;</span>1<span class="kw">&lt;/sup&gt;</span>With the reference showing up in the margin<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb3-19" title="19">  <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="kw">&lt;/section&gt;</span></a>
<a class="sourceLine" id="cb3-21" title="21"></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="kw">&lt;h2&gt;</span>Next header signifies the end of the section<span class="kw">&lt;/h2&gt;</span></a></code></pre></div>
<p>Note how the margins are gathered up within the section.</p>
<p>This is going to require some custom markdown parsing.</p>
<p>Actually, on reflection I think I can just inline the html:</p>
<pre><code>&lt;div class=&quot;section&quot;&gt;
&lt;div class=&quot;main-text&quot;&gt;
This is a paragraphs in the main text block...</code></pre>
<p>This works, but is has some pretty significant problems:</p>
<ol type="1">
<li>It makes the markdown in the editor look naff</li>
<li>It doesn’t work well with the markdown preview</li>
<li>You have to manage your own references (and use <code>&lt;sup&gt;</code> to boot)</li>
<li>It doesn’t have the neat ‘collecting’ margin stuff from the above</li>
</ol>
<p>Re-writing the Markdown would be better.</p>
</div>
<div class="sidenotes">

</div>
</section>
<h2 id="some-tests">Some tests</h2>
<section>
<div class="main-text">
<p>This is a paragraphs in the main text block. In corporate and government bureacracies, the standard method for making a presentation is to talk about a list of point organized onto slides projected up on the wall. For many years, overhead projectors lit up transparencies, and slide projectors showed high-resolution 35mm slides. Now “slideware” computer programs for presentations are nearly everywhere. Early in the 21st century, several hundred million copies of Microsoft were turning our trillions of slides each year.<sup>1</sup></p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae tristique lectus. Vestibulum enim lorem, tempor ut rutrum in, lobortis quis augue. Integer auctor dolor sed mi interdum vulputate. Nam ornare turpis sed dui porttitor aliquam. Vivamus placerat tellus sit amet euismod gravida. Proin aliquet faucibus quam nec fermentum. Maecenas iaculis lorem sit amet nunc feugiat, ultricies interdum est molestie. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
</div>
<div class="sidenotes">
<p><sup>1</sup> This is a para in the margin</p>
<figure>
<img src="../images/ppfluff.png" alt="A picture with a caption" /><figcaption>A picture with a caption</figcaption>
</figure>
</div>
</section>
<section>
<div class="main-text">
<p>Phasellus sed orci nibh. Phasellus ultricies euismod bibendum. Integer ut erat condimentum, suscipit felis lacinia, aliquet nunc. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Phasellus interdum purus quis quam pharetra, sit amet ultrices eros egestas. Etiam justo dui, maximus in quam ut, pulvinar rhoncus velit. Vestibulum elit arcu, gravida eget nulla a, lobortis gravida nunc. Maecenas ullamcorper tellus sed purus posuere, at lacinia neque suscipit. Etiam elementum turpis vitae egestas vehicula. Nulla ac consequat lorem, eu pharetra augue. Curabitur faucibus lectus eget nisi fermentum, eget sollicitudin ipsum consectetur. Nulla auctor nibh sed massa hendrerit dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum consequat tempor eros. Vivamus iaculis, ante ut volutpat semper, sem nisi finibus est, sit amet pellentesque est ligula quis augue.<sup>2</sup></p>
<figure>
<img src="../images/long.png" alt="Spanning inline image doesn’t work" /><figcaption>Spanning inline image doesn’t work</figcaption>
</figure>
<p>Curabitur varius in lectus eget vestibulum. Ut a nisi faucibus, vestibulum quam interdum, congue augue. Fusce ut consectetur dolor, sit amet condimentum justo. Praesent gravida tortor fringilla libero placerat, ac mollis lacus auctor. Aenean sit amet hendrerit tortor. Cras tempor ac tellus sed venenatis. Integer tempor volutpat nibh vitae ultricies. Mauris gravida, urna eget accumsan egestas, ligula nunc gravida velit, in maximus sem dui rhoncus tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean id ante malesuada, lacinia nunc eu, lacinia turpis. Nam sed orci est. Integer efficitur sapien eget dignissim mollis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">def</span> inline_fn(a, b, c):</a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="cf">return</span> a<span class="op">+</span>b<span class="op">+</span>c</a></code></pre></div>
<p>Mauris vitae arcu dolor. Nullam ullamcorper sollicitudin massa, ac dapibus magna scelerisque non. Proin non sapien vitae eros interdum ornare sed vitae ligula. Nunc commodo lobortis sodales. Nulla placerat posuere lacus, eu egestas erat dignissim et. Fusce tristique, neque non blandit pretium, nulla nisl aliquam eros, ac vestibulum ex magna eget ipsum. Nunc dapibus nibh non orci tristique dictum. Integer varius nunc sit amet venenatis pellentesque. Proin quis velit eget odio pharetra scelerisque vitae nec mauris.</p>
</div>
<div class="sidenotes">
<p><sup>2</sup> Embedding code examples in the margin:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode clojure"><code class="sourceCode clojure"><a class="sourceLine" id="cb6-1" title="1">(<span class="bu">defn</span><span class="fu"> hello-world </span>[a b c]</a>
<a class="sourceLine" id="cb6-2" title="2">  (blah blah blah))</a></code></pre></div>
</div>
</section>
</body>
</html>
