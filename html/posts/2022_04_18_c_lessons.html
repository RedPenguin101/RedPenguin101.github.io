<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lessons from C</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../css/style.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Lessons from C</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#ascii-characters">ASCII characters</a><ul>
<li><a href="#converting-between-upper-and-lowercase">Converting between upper and lowercase</a></li>
<li><a href="#digits">Digits</a></li>
</ul></li>
<li><a href="#strings">Strings</a><ul>
<li><a href="#there-is-no-string">There is no string</a></li>
<li><a href="#iterating-through-a-string">Iterating through a string</a></li>
<li><a href="#dynamic-allocation-of-strings">Dynamic allocation of strings</a></li>
<li><a href="#getting-the-string-representation-of-a-number">Getting the string representation of a number</a></li>
</ul></li>
<li><a href="#numbers">Numbers</a><ul>
<li><a href="#working-with-digits">Working with digits</a></li>
</ul></li>
</ul>
</nav>
<h2 id="arrays">Arrays</h2>
<p>Initialize an array with <code>int input[4] = {1023, 1, 2};</code></p>
<h2 id="ascii-characters">ASCII characters</h2>
<h3 id="converting-between-upper-and-lowercase">Converting between upper and lowercase</h3>
<p>Uppercase ASCII alpha characters have codes between 65 (<code>'A'</code>) and 90 (<code>'Z'</code>). Lower case start at 97. You can therefore convert between the two by adding or subtracting 32.</p>
<h3 id="digits">Digits</h3>
<p>The ASCII digits run from 48 (0) through 57 (9). To transform a digit character to a number, subtract 48.</p>
<h2 id="strings">Strings</h2>
<h3 id="there-is-no-string">There is no string</h3>
<p>C doesn’t have strings, only arrays of characters. The type is a <code>const char*</code>: that is, a pointer to the memory address of the <code>char</code> that starts the string. Strings are terminated by the null character, <code>\0</code>.</p>
<h3 id="iterating-through-a-string">Iterating through a string</h3>
<p>Strings (or <code>const char*</code>) are null terminated, and therefore you can iterate over the characters of them with a for loop like so:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1"><span class="dt">bool</span> xo(<span class="dt">const</span> <span class="dt">char</span>* str) {</a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">int</span> excess = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="cf">for</span> (<span class="dt">int</span> c = <span class="dv">0</span>; str[c]; c++) {</a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="cf">if</span> (lower(str[c]) == <span class="ch">&#39;x&#39;</span>)</a>
<a class="sourceLine" id="cb1-6" title="6">      excess++;</a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="cf">else</span> <span class="cf">if</span> (lower(str[c]) == <span class="ch">&#39;o&#39;</span>)</a>
<a class="sourceLine" id="cb1-8" title="8">      excess--;</a>
<a class="sourceLine" id="cb1-9" title="9">  }</a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="cf">return</span> !excess;</a>
<a class="sourceLine" id="cb1-12" title="12">}</a>
<a class="sourceLine" id="cb1-13" title="13"></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">// or</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="dt">int</span> len(<span class="dt">const</span> <span class="dt">char</span>* str) {</a>
<a class="sourceLine" id="cb1-17" title="17">  <span class="dt">int</span> i = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="cf">while</span> (str[i])</a>
<a class="sourceLine" id="cb1-19" title="19">    i++;</a>
<a class="sourceLine" id="cb1-20" title="20">  <span class="cf">return</span> i;</a>
<a class="sourceLine" id="cb1-21" title="21">}</a></code></pre></div>
<h3 id="dynamic-allocation-of-strings">Dynamic allocation of strings</h3>
<p>It’s often the case that you’ll need to dynamically allocate memory for a string. For this, <code>calloc</code> is useful, because it initializes the memory to 0, aka the null character. You can then bang on the array element by element, and when you stop banging in it (provided you don’t go off the end), it will be self terminating, since the next character will be the terminator.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb2-1" title="1"><span class="dt">char</span>* reverse(<span class="dt">const</span> <span class="dt">char</span>* str) {</a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">int</span> l = len(str);</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">char</span>* ret = calloc(l + <span class="dv">1</span>, <span class="kw">sizeof</span>(<span class="dt">char</span>));</a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; str[i]; i++)</a>
<a class="sourceLine" id="cb2-5" title="5">    ret[i] = str[l - i - <span class="dv">1</span>];</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="cf">return</span> ret;</a>
<a class="sourceLine" id="cb2-7" title="7">}</a></code></pre></div>
<h3 id="getting-the-string-representation-of-a-number">Getting the string representation of a number</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb3-1" title="1">  <span class="dt">char</span> digits[<span class="dv">20</span>];</a>
<a class="sourceLine" id="cb3-2" title="2">  sprintf(digits, <span class="st">&quot;%d&quot;</span>, num);</a></code></pre></div>
<h2 id="numbers">Numbers</h2>
<h3 id="working-with-digits">Working with digits</h3>
<p>Sometimes you need to work with the individual digits of a number. This can be done with combinations of <code>/= 10</code> and <code>% 10</code>. Another useful trick is that the number of digits in a number can be obtained by <code>ds = log10(num)+1</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb4-1" title="1"><span class="dt">int</span>* digits(<span class="dt">int</span> num) {</a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="dt">int</span> l = log10(num) + <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">int</span>* d = malloc(l * <span class="kw">sizeof</span>(<span class="dt">int</span>));</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="cf">for</span> (<span class="dt">int</span> i = l - <span class="dv">1</span>; i &gt;= <span class="dv">0</span>; i--) {</a>
<a class="sourceLine" id="cb4-6" title="6">    d[i] = num % <span class="dv">10</span>;</a>
<a class="sourceLine" id="cb4-7" title="7">    num /= <span class="dv">10</span>;</a>
<a class="sourceLine" id="cb4-8" title="8">  }</a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="cf">return</span> d;</a>
<a class="sourceLine" id="cb4-11" title="11">}</a></code></pre></div>
</body>
</html>
