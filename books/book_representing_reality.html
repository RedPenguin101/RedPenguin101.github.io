<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Representing Reality</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Representing Reality</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>We deal here with the complexities of representing the universe, using the stunted, feeble method of data representations, crammed into anemic information systems. It is futile and frustrating. Information systems can never be more than pale reflections of reality. The shadows on the wall created by the light rays of our imaginations. But they are the best option we have.</p>
</div>
<div class="paragraph">
<p>We are ill equipped to handle reality. Nature seems to actively resist the grasping of our minds. It seems the tighter we try to contain it, the more energetically it slips away from us, like a bar of soap, or a quantum particle. We continue to delve deeper, searching for a solid foundation on which we can stand, in vain. There is a reason so many logicians go mad.</p>
</div>
<div class="paragraph">
<p>We can only develop coping mechanisms. We build miniature worlds in our head. Our models, maps, information systems. We are predisposed to this, and it is a great gift. But we are also predisposed to forget that the small world in our minds is <em>not</em> the large world outside of it. Hence every financial crisis, hence every election surprise. Every incomprehensible software system and miscommunication.</p>
</div>
<div class="paragraph">
<p>Reality cannot be understood in a exact, complete way, like a data representation of it can. But perhaps we can say something about it. Maybe we can, in a vague, fuzzy way, discern something of the nature of reality. Its shape and behavior. And from that we might be able to say something about the the right and wrong ways to create systems to represent reality.</p>
</div>
<div class="paragraph">
<p>Sadly for us, when we try to peek under its skirts, reality will put up its usual defences. Ideas will blend into each other. Concepts will dissolve into nothingness as we try to look at them, or shatter into smaller fragments each more incomprehensible than their parent. What we will inevitably end up with, as we try to explore how pockets of reality can be represented in models, is a model of how to think about reality. A model as limited and flawed as all the others.</p>
</div>
<div class="paragraph">
<p>We look first at the <strong>entities</strong> of reality, the <em>things</em> that are in it, and the kinds of things they are. We will then turn to applying the lessons learned from this into the theory of creating data representations. Finally we will look at the applying these theories to practical systems.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_entities_of_reality">The Entities of Reality</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_simple_and_the_fractal">The Simple and the Fractal</h3>
<div class="paragraph">
<p>There is a short story by Jorge Luis Borges called 'On Exactitude in Science'. In the story, the rulers of an empire become so enamoured with cartography that a map with a one-to-one scale is created for their entire territory, and is laid lovingly over every part of it - because where else could you put it? The uselessness of such a map quickly becomes evident, and over time it slowly dissolves.</p>
</div>
<div class="paragraph">
<p>We will return to the uselessness of a representation that has a one-to-one correspondence with  reality. For now consider: <em>is</em> this in fact a complete representation? When we look at the giant map, it may look very similar to the territory it represents. Perhaps it has individual blobs of color for small pebbles, flowers so detailed you can tell the species. But look even more closely at the flower on the map, zoom in as far as you can go on one of the petals. What do you see? a flat, smooth, uni-colored surface. Now look at the flower in reality, zoom in. First, the surface will stop looking smooth, and start looking rather bumpy. Variances in color will suddenly become glaringly apparent. Keep going and you will start to see the structure of individual cells, each containing its own multitude.</p>
</div>
<div class="paragraph">
<p>This well illustrates the first fundamental problem with attempting to represent reality. When you have a large information system, and you zoom in on an element of it, the thing in your virtual view-finder will be simpler and contain less things than before you zoomed in. A data representation must be simple, finite. Reality is just the opposite. It is complex. <em>Fractal</em>. Whenever you zoom in on a part, what you see in your view-finder will be just as complex as before you zoomed in, like a Mandelbrot diagram. This deceptive quality is found everywhere in nature. A mountain might look like a triangle from a certain distance, but the closer you get, the less triangular it will look.</p>
</div>
<div class="paragraph">
<p>The first lesson we draw from this is that we have no choice but to create our data representations as <em>less detailed</em> that reality. They have to <em>stop</em> at some point.</p>
</div>
<div class="paragraph">
<p>The second lesson is to just to remember that reality has this property. When you forget, you will find yourself in front of a whiteboard, trying to represent reality in boxes and arrows, trying to dig all the way done, and in time you will find contradictions and cycles in your diagram. The contradictions are a necessary consequence of fractality, as well as a few other things we&#8217;ll look at later.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_is_a_thing">What is a Thing?</h3>
<div class="paragraph">
<p>One of the consequences of the complexities of reality is that our most common model for representing it, language, must like all others be incomplete, limited and unsatisfactory.</p>
</div>
<div class="paragraph">
<p>Can you describe a unit of reality? An entity which exists? Even in the most seemingly trivial case, describing physical objects, we run into trouble. Let us dodge the issue for now and name such an atomic unit as a 'thing', short for 'a thing that exists'.</p>
</div>
<div class="paragraph">
<p>A particular, if rather trivial problem in English is that we tend not to distinguish or make explicit a singular instance of a thing, or the abstract idea of a thing. Which one we mean is context dependent.</p>
</div>
<div class="paragraph">
<p>Take, for example, a book. I have a copy of Domain Driven Design on my desk. You come over to chat and the topic of DDD comes up. I ask 'Have you read this book?'. Here I&#8217;m obviously not referring to my specific copy of the book, which of course you haven&#8217;t read even if you&#8217;ve read another copy. I mean the abstract idea of the book. Later I might say 'I can lend you this book'. Now I <em>am</em> talking about this specific instance of the book - you can&#8217;t lend an abstract idea! But the two sentences use the same word to represent both the instance and the abstract, and there is no distinction between them.</p>
</div>
<div class="paragraph">
<p>If you&#8217;ve ever designed a system which is for delivering reports or anything similar, I&#8217;d wager that at some point you have had a confused conversation, where someone is talking about instances or runs of a specific report, and someone else is talking about the abstract of the report. I know I have.</p>
</div>
<div class="paragraph">
<p>Another problem is drawing specific bounds around a particular thing: what constitutes part of it and what does not. Staying with the book example, consider Lord of the Rings. There are three parts to Lord of the Rings: Fellowship, Two Towers, and Return. Often they are published as 3 separate volumes. Are we to consider each one a separate book? Or are they volumes of a single book? When they are published as a single bound thing, are they three books, or one? Can Fellowship be a book which is part of another book, and Lord of the Rings be a book which somehow 'has' other books? Or would that be chaos?</p>
</div>
<div class="paragraph">
<p>Think of a wall, made of bricks. You start removing bricks from it. Are the removed bricks still part of the wall? If you remove a certain combination of bricks, will you at some point have <em>two</em> walls (Note that the Great Wall of China is not one continuous structure)? How many bricks do you have to remove before you it&#8217;s not a wall at all anymore?</p>
</div>
</div>
<div class="sect2">
<h3 id="_attributes_relationships">Attributes, Relationships</h3>

</div>
<div class="sect2">
<h3 id="_groupings_of_things">Groupings of things</h3>

</div>
<div class="sect2">
<h3 id="_essence_and_role">Essence and Role</h3>

</div>
<div class="sect2">
<h3 id="_form">Form</h3>

</div>
<div class="sect2">
<h3 id="_identity">Identity</h3>

</div>
<div class="sect2">
<h3 id="_time">Time</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_representation">Representation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From discussions of reality, we now try to draw conclusions about how to represent it in information systems.</p>
</div>
<div class="paragraph">
<p>The most valuable shift in mindset to make when doing this is to move away from modelling reality. What we are modelling is is the way information about reality is <em>processed by people</em>. This has some very attractive properties which mitigate the inherent problems with containing reality.</p>
</div>
<div class="paragraph">
<p>Firstly, and most critically, information is processed by people for a purpose. We have seen that reality does not have a natural structure which we can overlay our model on top of, rather our model imposes an artificial structure on reality. There are few if any natural limits on how we can do that. <em>Purpose</em>, what we want to achieve by the act of processing, is the best means of determining what a good structure is.</p>
</div>
<div class="paragraph">
<p>Secondly, we saw that, for a couple of reasons, a model must be less detailed than the thing it is representing. Thinking from the perspective of a person processing reality will nudge us towards reasonable bounds for our representation. When a person is processing sales of widgets, they do not care about the hair color of the person who is buying the widget. Therefore we can feel free to exclude that from our representation of Customer.</p>
</div>
<div class="sect2">
<h3 id="_names">Names</h3>
<div class="paragraph">
<p>When naming something, we are creating a link between a symbol and the thing it refers or points to. The analogy to variables and the values they resolve to in programming, <code>my_thing = MyObject::new("things")</code>, is very strong. In fact it isn&#8217;t even an analogy.</p>
</div>
<div class="paragraph">
<p>The purpose of naming something is always for communication, to gain the ability for person A to indicate to person B that they are talking about a particular thing that exists.</p>
</div>
<div class="paragraph">
<p>Names can include a degree of description of the things they refer to. These can range from the definite description, that exclusively and exhaustively describes the thing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"That man over there by the water cooler, in the red tie"</pre>
</div>
</div>
<div class="paragraph">
<p>To entirely agnostic, containing no information at all about the thing which it refer to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"Tony"</pre>
</div>
</div>
<div class="paragraph">
<p>(You could argue that even this has some implication that the referent is a human male, probably of Western heritage).</p>
</div>
<div class="paragraph">
<p>We will say that names can vary in how 'informative' they are: how much information about their referent they include.</p>
</div>
<div class="paragraph">
<p>There are various trade offs to having an informative name. On the positive side, an informative name allows you to communicate something about the thing you are describing which might be useful to your interlocutor, particularly if they don&#8217;t have a pre-familiarity of the thing. Taking the previous examples, if you say "Tony" to someone who doesn&#8217;t know who Tony is, that name is entirely useless. If you say "That man over there by the water cooler", that is a useful name for someone, regardless of their familiarity with the piece of reality you are referring to.</p>
</div>
<div class="paragraph">
<p>On the downside, informative names can often lose connection with the thing if the thing changes from under it. In that case the name becomes not only uninformative, but can be actively misleading. Continuing with the previous example, if the man moves away from the water cooler, the name "That man over there by the water cooler" is no longer a good name. This often happens in place names. Dartmouth in the UK is so named because it is at the mouth of the river Dart. But its various namesakes in the USA, including Dartmouth College, are not located near a Dart river at all. Likewise, most towns and cities will have a "Main Street", with that name assigned at a time when it was the main street of that town. But over time, with development, it stops being the main street, even as it continues to have that name.</p>
</div>
<div class="paragraph">
<p>Where you don&#8217;t have a name which is a definitive description - that is you have a name which conceivably refer to more than one thing - you will often need to resort to qualification to avoid confusion. "Tony" might have to be "Tony from accounts" to distinguish him from "Tony from sales". This is effectively the origin of surnames. "Tony Smith", "Tony Samuelson", "Tony MacDuff" are all examples of organic qualification.</p>
</div>
<div class="paragraph">
<p>A twist on this concept is with words with more than one meaning. Naming something 'Colt' could refer to a car, a gun, a beer, a person, a place. It could even not be name at all, but a reference to a male horse.</p>
</div>
<div class="paragraph">
<p>In building systems we usually refer to objects within our systems as existing within 'namespaces', as in the Zen of Python aphorism "Namespaces are one honking great idea&#8201;&#8212;&#8201;let&#8217;s do more of those!". The goal of namespaces in systems is to denote the context in which a name exists, so as to prevent accidental confusion between two concepts with the same name, which nonetheless are different from each other, either in type or implementation.</p>
</div>
<div class="paragraph">
<p>For example, a customer in the sales module of the system will probably be implemented differently from a customer in the customer relations module. Namespaces allow the programmer to know whether they are dealing with a <code>sales/customer</code> or a <code>relations/customer</code>.</p>
</div>
<div class="paragraph">
<p>*
* assignation and sharing of names. guids</p>
</div>
<div class="paragraph">
<p>What lessons can we draw from this - what makes a good name? It very much depends on the intent. Let&#8217;s go over a few scenarios.</p>
</div>
<div class="paragraph">
<p>If you have a distributed system, where several parts of the system need to be able to pass around references to entities - say for example your customer care system needs to talk to your sales system about a particular customer - it needs some sort of shared name to be able to do so. What is the right type of name to use?</p>
</div>
<div class="paragraph">
<p>If, on the other hand, you are naming a concept, or a type of thing - say a class which represents a customer -</p>
</div>
</div>
<div class="sect2">
<h3 id="_models">Models</h3>

</div>
<div class="sect2">
<h3 id="_types">Types</h3>

</div>
<div class="sect2">
<h3 id="_relationships_attributes">Relationships, Attributes</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_practicalities">Practicalities</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_leveraging_existing_real_world_models">Leveraging existing real world models</h3>
<div class="paragraph">
<p>When you are modelling a concept in data, you should think about trying to anchor on something that has a widely accepted formalism, to avoid some of the fuzziness of reality.</p>
</div>
<div class="paragraph">
<p>A good example is a 'legal entity'. In enterprise systems, quite often you will have to model some kind of organization: some collection of people who perform work to achieve a common goal. Often when you dig into an organization you run into the usual problems of defining what the thing is and the boundaries around it. Who is in the organization? There are 10 people in the organization which makes investments, but although they have a common pool of capital to deploy, they are in effect two separate sub-organizations of 5 people with slightly different mandates. Should we represent this as one or two organizations? When does an organization start to exist and cease to exist.</p>
</div>
<div class="paragraph">
<p>The problem is that an organization when thought about like this is very fuzzy. However, in their own efforts to impose structure on reality, world governments have come up with a useful concretion around organizations: the legal entity. A legal entity is created when the government says it is created. Is stops existing when the government says so. People are part of a legal entity when they are employed by it. The government has helpfully reified the rules around existence, and so successfully that there is global acceptance of it. The users of your system, who may have not been able to agree on what constitutes an organization, will grudgingly have to agree on what constitutes a legal entity.</p>
</div>
<div class="paragraph">
<p>We can lean on this concretion, and others like it, to provide a template for our own data representations. This isn&#8217;t to say our representation problems will magically be solved by doing this: a legal entity may, for users of your system, still represent more than one groups of people that need to be distinguished. You may need to group legal entities into categories, types, which might be as fuzzy as anything else. But being able to anchor on a nearly universally accepted construct provides you with a stake in the sand to come back to and to guide the layers of meaning you have to put on top of it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_encapsulation_and_stratified_design">Encapsulation and stratified design</h3>

</div>
<div class="sect2">
<h3 id="_objects_as_identity_proxy">Objects as identity proxy</h3>

</div>
<div class="sect2">
<h3 id="_flocks_of_facts_not_slots_for_datums">Flocks of facts, not slots for datums</h3>
<div class="paragraph">
<p>The basis of much of computer science is in the inner workings of the machine. The machine is a small world of defined scope. Existence or non-existence of a thing is determined by whether it exists as ones and zeros in the machines memory. An array in memory has explicit bounds, a start and an end. A file exists or does not exist. This gives us a clue to the world we are operating in: we are in the small world of the model, an order which we have imposed, not the large world of reality. Objects are closed. There is something of the platonic form about things in this world, something mathematical and pure.</p>
</div>
<div class="paragraph">
<p>This has guided much of the development of existing languages and practices for dealing with things. We have structures and objects which are effectively closed. We define a 'co-ordinate' structure, which has an x co-ordinate and a y co-ordinate, and nothing can be added to this and nothing removed, by the bounds of the mathematics we have created.</p>
</div>
<div class="paragraph">
<p>From all that we have seen so far, it is not difficult to intuit that this approach will quickly break down as we try to leave the small world of the mathematical and into reality. Defining closed structures, which have pre-allocated slots for information, creates brittle structures which will break as soon as they are exposed to the fuzzy nature of reality.</p>
</div>
<div class="paragraph">
<p>Generally, modelling efforts are aimed at turning reality into these closed containers for information, whether objects or structures. Such imposition of structure is inevitable, but there is a way we can avoid locked ourselves so irreversibly into a fixed way of thinking. We can go at least some way to representing information in a way that is less fixed, more conducive to change. We can do this by thinking of things not as closed containers of information, with each datum put in its predefined slot, but instead of thinking of entities as a collection of facts which are built over time, with facts things entering and leaving, being replaced and updated. In short, by thinking of entities as flocks of information, not as a slot-based form to fill out.</p>
</div>
<div class="paragraph">
<p>Recall that that our representations should be more about how information is processed by people than of what reality actually is. That implies that our information system represents what we <em>know</em> about an entity, not what it is in reality. A person definitely does have a first name and a last name. So if we try to modelling reality, our Person object has a slot for first and last name. But what if don&#8217;t know the first name? Our object needs to have something in that slot, but what should we put in there? A person may or may not have a middle name. Should we have a slot for it? If we do, how should we distinguish between not knowing what it is, and knowing that they don&#8217;t have one?</p>
</div>
<div class="paragraph">
<p>In systems where facts about an entity accumulated over time, modelling with closed structures or types will often lead to large objects where everything is nullable, and so you will need a lot of null checking code. This approach removes many of the benefits of a type checking system. If your compiler confirms that an object has type "Payment", but if your method required specific fields to be populated when they could potentially be null, what is the benefit of type checking at all?</p>
</div>
<div class="paragraph">
<p>Alternatively, you can take the approach of having an object or type which represents any pre-defined state of the entity. Of course this can lead to an explosion of types. An example of an algebraic type system representation included the following types to represent an order life cycle</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An UnvalidatedCustomerInfo</p>
</li>
<li>
<p>An UnvalidatedShippingAddress</p>
</li>
<li>
<p>An UnvalidatedBillingAddress</p>
</li>
<li>
<p>An UnvalidatedProductCode</p>
</li>
<li>
<p>An UnvalidatedOrderQuantity</p>
</li>
<li>
<p>A List of UnvalidatedOrderLine</p>
</li>
<li>
<p>A ValidatedCustomerInfo</p>
</li>
<li>
<p>A ValidatedShippingAddress</p>
</li>
<li>
<p>A ValidatedBillingAddress</p>
</li>
<li>
<p>A ValidatedProductCode</p>
</li>
<li>
<p>A ValidatedOrderQuantity</p>
</li>
<li>
<p>A List of ValidatedOrderLine</p>
</li>
<li>
<p>An OrderPlaced</p>
</li>
<li>
<p>A BillableOrderPlaced</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Many of which can be 'undefined', null. This is a small subset of the types for an order process in the example - In total I counted around 50 of them. This was in a pedagogical example, so it may be that the pattern was exaggerated for illustration. But clearly any systems of significant size when following this pattern will have a very large number of types, and within those types the data representations will be rather brittle.</p>
</div>
<div class="paragraph">
<p>Of course, there are benefits to this approach, otherwise people wouldn&#8217;t do it &#8230;&#8203;.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s look at how representing an entity as a flock of facts that we know about it can mitigate problems of partial information.</p>
</div>
<div class="paragraph">
<p>An information system can be thought of as a data representation flowing through processes, with those processes modifying the data representation or triggering actions based on the attributes of the data. An order arrives, and the data representation has a product code, a quantity, and some information about who ordered it. First we need to get the price. We have a function which checks the current price of the product code and adds the order price to the order. Does the order contain a valid shipping address for the customer? The function doesn&#8217;t care. If the address is there it ignores it, if it is there but in an unvalidated state, it doesn&#8217;t blink. Maybe we don&#8217;t know the address at all yet, in which case we just leave it out - there&#8217;s no need for a slot for it to tell us it&#8217;s not there. If a function needs an address, or needs a valid address, and it&#8217;s not in the data representation, the function can complain about it, throw an error, whatever.</p>
</div>
<div class="paragraph">
<p>Later we might want to add a 'is preferred customer' fact to the representation. Downstream somewhere there is probably a function which calculates and applies a discount or reward based on the customer&#8217;s preferred status. What needs to change in the rest of our system? Nothing. There are no types to change, no change to any function which isn&#8217;t interested in preferred status - the data will flow out the other end of those functions with the preferred status information untouched.</p>
</div>
</div>
<div class="sect2">
<h3 id="_immutable_representations">Immutable representations</h3>

</div>
<div class="sect2">
<h3 id="_relational_and_eavt_models">Relational and EAVT models</h3>

</div>
<div class="sect2">
<h3 id="_state_machines">State Machines</h3>

</div>
<div class="sect2">
<h3 id="_the_absence_of_a_thing_null_maybe">The absence of a thing: null, maybe</h3>

</div>
<div class="sect2">
<h3 id="_domain_driven_design">Domain Driven Design</h3>
<div class="paragraph">
<p>I&#8217;m focusing here on a small subset of Domain Driven Design. DDD has a lot to say about the <em>process</em> of working with a business to arrive at a good model, and also the</p>
</div>
</div>
<div class="sect2">
<h3 id="_events">Events</h3>
<div class="ulist">
<ul>
<li>
<p>Identity</p>
</li>
<li>
<p>Types</p>
</li>
<li>
<p>Grouping things</p>
</li>
<li>
<p>Models</p>
</li>
<li>
<p>Form (Plato and Aristotle)</p>
</li>
<li>
<p>Stratified design
*</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-09-19 13:22:57 +0100
</div>
</div>
</body>
</html>